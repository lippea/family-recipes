{{ define "main" }}
<h1>{{ .Title }}</h1>

{{ if eq .Type "categories" }}
<div class="taxonomy-list">
    {{ range .Data.Terms.ByCount }}
    <a href="{{ .Page.Permalink }}" class="taxonomy-item">
        <h3>{{ .Page.Title }}</h3>
        <span class="taxonomy-count">{{ .Count }} ä¸ªèœå•</span>
    </a>
    {{ end }}
</div>
{{ else if eq .Type "tags" }}
<div class="taxonomy-list">
    {{ range .Data.Terms.ByCount }}
    <a href="{{ .Page.Permalink }}" class="taxonomy-item">
        <h3>{{ .Page.Title }}</h3>
        <span class="taxonomy-count">{{ .Count }} ä¸ªèœå•</span>
    </a>
    {{ end }}
</div>
{{ else }}
<div class="recipe-grid">
    {{ range .Pages }}
    <div class="recipe-card">
        <a href="{{ .Permalink }}">
            {{ if .Params.image }}
            <img src="{{ .Params.image }}" alt="{{ .Title }}" class="recipe-card-image" loading="lazy">
            {{ end }}
            <div class="recipe-card-content">
                <h2>{{ .Title }}</h2>
            <div class="recipe-meta">
                {{ if .Params.difficulty }}
                <span>éš¾åº¦: {{ .Params.difficulty }}</span>
                {{ end }}
                {{ if .Params.servings }}
                <span>ä»½é‡: {{ .Params.servings }} äºº</span>
                {{ end }}
            </div>
            {{ if .Params.tags }}
            <div class="tags">
                {{ range .Params.tags }}
                {{ $tag := . }}
                {{ range $.Site.Taxonomies.tags }}
                {{ if eq .Page.Title $tag }}
                <a href="{{ .Page.Permalink }}" class="tag">{{ $tag }}</a>
                {{ end }}
                {{ end }}
                {{ end }}
            </div>
            {{ end }}
            {{ if .Params.external_link }}
            <div style="margin-top: 0.5rem; font-size: 0.8rem; color: #666;">
                ğŸ”— æœ‰å¤–éƒ¨é“¾æ¥
            </div>
            {{ end }}
            </div>
        </a>
    </div>
    {{ end }}
</div>
{{ end }}
{{ end }}

